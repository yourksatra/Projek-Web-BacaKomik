<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Manga Reader</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #0c0c0c;
            color: white;
        }

        header,
        footer {
            padding: 10px;
        }

        img {
            max-width: 100%;
            height: auto;
            margin-top: 10px;
        }

        .navigation {
            margin-top: 20px;
        }
    </style>
</head>

<body>
    <header class="bg-dark">
        <div class="container">
            <h1 id="chapter-title">Manga Reader - Chapter 00</h1>
            <div class="btn-group" role="group" aria-label="Chapter Navigation">
                <button type="button" class="btn btn-secondary" onclick="loadPreviousChapter()">Previous
                    Chapter</button>
                <!-- Dropdown button -->
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        Chapters
                    </button>
                    <ul class="dropdown-menu" id="chapter-dropdown-header">
                        <!-- Chapters will be populated here -->
                    </ul>
                </div>
                <button type="button" class="btn btn-primary" onclick="loadNextChapter()">Next Chapter</button>
            </div>
        </div>
    </header>

    <div id="manga-container" class="container"></div>

    <footer class="bg-dark navigation">
        <div class="container">
            <div class="btn-group" role="group" aria-label="Chapter Navigation">
                <button type="button" class="btn btn-secondary" onclick="loadPreviousChapter()">Previous
                    Chapter</button>
                <!-- Dropdown button -->
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary dropdown-toggle" data-bs-toggle="dropdown"
                        aria-expanded="false">
                        Chapters
                    </button>
                    <ul class="dropdown-menu" id="chapter-dropdown-footer">
                        <!-- Chapters will be populated here -->
                    </ul>
                </div>
                <button type="button" class="btn btn-primary" onclick="loadNextChapter()">Next Chapter</button>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS Bundle (termasuk Popper.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        // Definisi variabel global
        let currentChapter = 0;
        const maxChapters = 5; // Jumlah folder Chapter yang Anda miliki

        // Fungsi untuk memuat chapter tertentu
        function loadChapter(chapter) {
            const mangaContainer = document.getElementById("manga-container");
            mangaContainer.innerHTML = '';

            for (let i = 1; i <= getNumberOfImagesInChapter(chapter); i++) {
                const img = document.createElement("img");
                img.src = `SoloLeveling/Chapter ${chapter.toString().padStart(2, '0')}/${i.toString().padStart(2, '0')}.jpg`;
                mangaContainer.appendChild(img);
            }
            // Memperbarui judul chapter di header
            document.getElementById("chapter-title").innerText = `Manga Reader - Chapter ${chapter.toString().padStart(2, '0')}`;
            currentChapter = chapter;
        }

        // Fungsi untuk memeriksa keberadaan file (jika diperlukan di masa depan)
        function fileExists(url) {
            var http = new XMLHttpRequest();
            http.open('HEAD', url, false);
            http.send();
            return http.status !== 404;
        }

        // Fungsi untuk memuat chapter sebelumnya
        function loadPreviousChapter() {
            if (currentChapter > 0) {
                loadChapter(currentChapter - 1);
            }
        }

        // Fungsi untuk memuat chapter berikutnya
        function loadNextChapter() {
            if (currentChapter < maxChapters) {
                loadChapter(currentChapter + 1);
            }
        }

        // Fungsi untuk mendapatkan jumlah gambar dalam suatu chapter
        function getNumberOfImagesInChapter(chapter) {
            // Ganti ini dengan jumlah gambar sebenarnya dalam setiap chapter
            return 101; // Contoh: Jumlah gambar pada setiap chapter
        }

        // Fungsi untuk mengisi dropdown dengan daftar chapter
        function populateChapterDropdowns() {
            const dropdownHeader = document.getElementById('chapter-dropdown-header');
            const dropdownFooter = document.getElementById('chapter-dropdown-footer');

            for (let i = 0; i <= maxChapters; i++) {
                const chapterNumber = i.toString().padStart(3, '0');

                // Membuat elemen list item untuk header
                const listItemHeader = document.createElement('li');
                const linkItemHeader = document.createElement('a');
                linkItemHeader.classList.add('dropdown-item');
                linkItemHeader.href = '#';
                linkItemHeader.innerText = `Chapter ${chapterNumber}`;
                linkItemHeader.addEventListener('click', function (e) {
                    e.preventDefault();
                    loadChapter(i);
                });
                listItemHeader.appendChild(linkItemHeader);
                dropdownHeader.appendChild(listItemHeader);

                // Membuat elemen list item untuk footer
                const listItemFooter = document.createElement('li');
                const linkItemFooter = document.createElement('a');
                linkItemFooter.classList.add('dropdown-item');
                linkItemFooter.href = '#';
                linkItemFooter.innerText = `Chapter ${chapterNumber}`;
                linkItemFooter.addEventListener('click', function (e) {
                    e.preventDefault();
                    loadChapter(i);
                });
                listItemFooter.appendChild(linkItemFooter);
                dropdownFooter.appendChild(listItemFooter);
            }
        }

        // Memanggil fungsi setelah DOM sepenuhnya dimuat
        document.addEventListener('DOMContentLoaded', function () {
            populateChapterDropdowns();
            // Memuat chapter awal
            loadChapter(currentChapter);
        });
    </script>
</body>

</html>